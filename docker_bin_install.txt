# docker 二进制安装

## 获取docker二进制文件版本最新版
```bash
echo $(curl https://download.docker.com/linux/static/stable/x86_64/) | grep -Po "docker.*?\." | uniq | grep -Ev "ce|rootless" | sed -n '$p'
```
## 下载解压并复制到启动目录
```bash
curl -C - -o docker-20.10.7.tgz https://download.docker.com/linux/static/stable/x86_64/docker-20.10.7.tgz  # -C - 自动断点续传
tar -zvxf docker-19.03.6.tgz
cp docker/* /usr/bin/
```
## 启动dcoker
```bash
/usr/bin/dockerd
```

### 设置为服务
```bash
vim /etc/systemd/system/docker.service
chmod +x /etc/systemd/system/docker.service
```
```ini
[Unit]
Description=Docker Application Container Engine
Documentation=https://docs.docker.com
After=network-online.target firewalld.service
Wants=network-online.target

[Service]
Type=notify
ExecStart=/usr/bin/dockerd
ExecReload=/bin/kill -s HUP $MAINPID
LimitNOFILE=infinity
LimitNPROC=infinity
TimeoutStartSec=0
Delegate=yes
KillMode=process
Restart=on-failure
StartLimitBurst=3
StartLimitInterval=60s

[Install]
WantedBy=multi-user.target
```
```bash
systemctl daemon-reload             #重载配置文件
systemctl start docker              #启动Docker
systemctl stop docker               #关闭docker
systemctl restart  docker           #重启docker
systemctl enable docker.service     #设置开机自启
systemctl status docker             #查看Docker状态
```








# k8s安装